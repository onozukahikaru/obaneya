<link rel="preload" href="{{ 'section-image-with-text.min.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'"/>
<noscript>{{ 'section-image-with-text.min.css' | asset_url | stylesheet_tag }}</noscript>

{% case section.settings.colors %}
  {% when 'white' %}
    {%- assign color_scheme = 'homepage-sections-wrapper--white' -%}
  {% when 'light' %}
    {%- assign color_scheme = 'homepage-sections-wrapper--light' -%}
  {% when 'accent' %}
    {%- assign color_scheme = 'homepage-sections-wrapper--accent' -%}
  {% when 'dark' %}
    {%- assign color_scheme = 'homepage-sections-wrapper--dark' -%}
{% endcase %}


<div
  class="custom_section_products homepage-sections-wrapper {{ color_scheme }} {% unless section.settings.text_overlapping_image %} feature-row--no-overlapping{% else %} feature-row--overlapping{% endunless %}{% if section.settings.section-width == 'content' %} content-width{% else %} full-width{% endif %}{% if product.metafields.custom.image_with_text3_image == blank %} custom_invisible{% endif %}"
  data-wetheme-section-type="image--image-with-text" data-wetheme-section-id="{{ section.id }}"
>

  {% capture image_layout %}
    <div class="grid__item homepage-content--image homepage-content--{{ section.id }}{% if section.settings.text_overlapping_image %} overlapping-text{% else %} large--one-half{% endif %}{% if settings.ken_burns_enabled %} kb-enabled{% endif %}">
      <div v-if="media.media_type === 'image'">
        {% if product.metafields.custom.image_with_text3_image != blank %}
          <div id="rellax--{{ section.id }}" class="img" data-rellax-percentage="0.5" data-rellax-speed="-6" data-media-type="image">
            <img src="{{ product.metafields.custom.image_with_text3_image | img_url: 'master' }}">
          </div>
        {% endif %}
      </div>
    </div>
  {% endcapture %}

  {% if section.settings.section-width == 'content' %}
    <div class="wrapper-padded">
  {% endif %}

    <div class="homepage-indiv-section-wrapper grid--full homepage-featured-content-wrapper feature-row__text--{{ section.settings.layout }} feature-row__text-alignment--{{ section.settings.text_alignment }}">
      {{ image_layout }}

      <div class="feature_row__image_wrapper{% if section.settings.text_overlapping_image %} homepage-featured-content-box{% else %} large--one-half{% endif %}">

          {% unless section.settings.text_overlapping_image %}
            <div class="no-overlap-content-box">
          {% endunless %}

            <div class="homepage-featured-content-box-inner show-on-scroll">

              {% if product.metafields.custom.image_with_text3_description != blank %}
                <div class="rte featured-row__subtext textarea">{{ product.metafields.custom.image_with_text3_description }}</div>
              {% endif %}

            </div>

          {% unless section.settings.text_overlapping_image %}
            </div>
          {% endunless %}
      </div>
    </div>

  {% if section.settings.section-width == 'content' %}
    </div>
  {% endif %}
  
</div>

{% schema %}
{
    "name": {
        "en": "Image with text product-3",
        "de": "Bild mit Text",
        "es": "Imagen con texto",
        "fr": "Image avec texte",
        "pt-PT": "Imagem com texto"
    },
    "class": "image-with-text-wrapper",
    "settings": [
        {
            "type": "select",
            "id": "colors",
            "label": {
                "en": "Color scheme",
                "de": "Farbschema",
                "es": "Esquema de colores",
                "fr": "Palette de couleurs",
                "pt-PT": "Esquema de cores"
            },
            "default": "light",
            "options": [
                {
                    "value": "white",
                    "label": {
                        "en": "Minimal",
                        "fr": "Minimal",
                        "de": "Minimal",
                        "es": "Mínimo",
                        "pt-PT": "Mínimo"
                    }
                },
                {
                    "value": "light",
                    "label": {
                        "en": "Light",
                        "de": "Licht",
                        "es": "Luz",
                        "fr": "Clair",
                        "pt-PT": "Claro"
                    }
                },
                {
                    "value": "accent",
                    "label": {
                        "en": "Feature",
                        "de": "Eigenschaft",
                        "es": "Destacado",
                        "fr": "Caractéristique",
                        "pt-PT": "Funcionalidade"
                    }
                },
                {
                    "value": "dark",
                    "label": {
                        "en": "Dark",
                        "de": "Dunkel",
                        "es": "Oscuro",
                        "fr": "Foncé",
                        "pt-PT": "Escuro"
                    }
                }
            ]
        },
        {
            "type": "checkbox",
            "id": "text_overlapping_image",
            "label": {
                "en": "Overlay content on image",
                "de": "Text überlappt das Bild",
                "es": "Texto superpuesto sobre imagen",
                "fr": "Texte chevauchant l'image",
                "pt-PT": "O texto sobrepõe-se à imagem"
            },
            "default": false
        },
        {
            "type": "select",
            "id": "section-width",
            "label": {
                "en": "Width",
                "de": "Breite",
                "es": "Ancho",
                "fr": "Largeur",
                "pt-PT": "Largura"
            },
            "default": "full",
            "options": [
                {
                    "value": "full",
                    "label": {
                        "en": "Full width",
                        "de": "Volle Breite",
                        "es": "Ancho completo",
                        "fr": "Pleine largeur",
                        "pt-PT": "Largura total"
                    }
                },
                {
                    "value": "content",
                    "label": {
                        "en": "Content width",
                        "de": "Abstände entfernen",
                        "es": "Eliminar espacio",
                        "fr": "Supprimer l'espacement ",
                        "pt-PT": "Remover o espaçamento"
                    }
                }
            ]
        },
        {
            "type": "radio",
            "id": "layout",
            "label": {
                "en": "Layout on desktop",
                "de": "Layout",
                "es": "Diseño",
                "fr": "Mise en page",
                "pt-PT": "Apresentação"
            },
            "default": "left",
            "options": [
                {
                    "value": "left",
                    "label": {
                        "en": "Content on right",
                        "de": "Bild links",
                        "es": "Imagen a la izquierda",
                        "fr": "Image à gauche",
                        "pt-PT": "Imagem à esquerda"
                    }
                },
                {
                    "value": "right",
                    "label": {
                        "en": "Content on left",
                        "de": "Bild rechts",
                        "es": "Imagen a la derecha",
                        "fr": "Image à droite",
                        "pt-PT": "Imagem à direita"
                    }
                }
            ]
        },
        {
            "type": "select",
            "id": "text_alignment",
            "label": {
                "en": "Text alignment on desktop",
                "de": "Textausrichtung auf dem Desktop",
                "es": "Alineación del texto en escritorio",
                "fr": "Alignement du texte sur le bureau",
                "pt-PT": "Alinhamento de texto no ambiente de trabalho"
            },
            "default": "center",
            "options": [
                {
                    "value": "left",
                    "label": {
                        "en": "Left",
                        "de": "Links",
                        "es": "Izquierda",
                        "fr": "Gauche",
                        "pt-PT": "Esquerda"
                    }
                },
                {
                    "value": "center",
                    "label": {
                        "en": "Centered",
                        "de": "Zentriert",
                        "es": "Centrado",
                        "fr": "Centré",
                        "pt-PT": "Centrado"
                    }
                },
                {
                    "value": "right",
                    "label": {
                        "en": "Right",
                        "de": "Rechts",
                        "es": "Derecha",
                        "fr": "Droite",
                        "pt-PT": "Direita"
                    }
                }
            ]
        }
    ],
    "presets": [
        {
            "name": {
                "en": "Image with text product-3",
                "de": "Bild mit Text",
                "es": "Imagen con texto",
                "fr": "Image avec texte",
                "pt-PT": "Imagem com texto"
            },
            "category": {
                "en": "Image",
                "de": "Bild",
                "es": "Imagen",
                "fr": "Image",
                "pt-PT": "Imagem"
            }
        }
    ],
    "disabled_on": {
      "groups": ["header"]
    }
}
{% endschema %}
